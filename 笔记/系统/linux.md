# 常用命令
## ZIP解压
```bash
unzip -d ./mydir/ myfile.zip
```

## SSH连接命令
```bash
ssh username@ip # 直接在terminal连接ssh
ssh username@ip -p 2222 # 带port的连接
```

## 查找命令
```bash
dpkg -l | grep chrome # 找寻chrome的包名
dpkg -L cn.google.chrome # 找到包名安装位置
```
```bash
locate idea # 找寻带idea名字的路径
updatedb # 更新locate的数据库
```

## VIM常用命令
* 选中

```
v           从当前光标开始复制,光标经过位置都可以选中.再次按v取消选中
V           光标从当前行开始,光标经过行被选中.再次按V取消选中
CTRL + v    从当前光标开始,选中光标起点与终点构成矩形区域.再次CTRL + v取消选中
ggVG        选中所有文字.gg跳到行首,V从当前位置开始以行选中,G跳到末尾
```

* 删除

```
d           删除选中区域
dd          删除当前行
x           删除当前光标所在字符
J           删除光标所在本行与上一行的换行符
```

* 复制(下边的反斜杠都是转义字符)

```
y           复制选中区域到寄存器
yy          复制当前行
\+y         复制到系统剪贴板(VIM的寄存器)
```

* 粘贴(下边的反斜杠都是转义字符)

```
p           从寄存器取出粘贴
\+p         从系统剪贴板粘贴
```

* 撤销

```
u           撤销上一次操作
CTRL + r/U  反撤销,恢复
```

* 追加

```
i           在当前光标之前插入文本(进入编辑模式)
a           在当前光标之后插入文本(进入编辑模式)
o           在当前行下边插入一行(进入编辑模式)
O           在当前行上边插入一行(进入编辑模式)
```

* 命令计数(重复执行操作)

```
3a!         在当前光标后插入3个!
3x          从当前光标处删除3个字符
1$          将光标移动到当前行行尾
2$          将光标移动到下一行行尾
```

* 组合命令

```
dw          删除一个单词
```

* 移动

```
k           向上移动一行
nk          向上移动n行
b           将光标向前移动到每个单词首字符
w           将光标向后移动到每个单词首字符
$           移动光标到当前行尾
^           移动光标到当前行第一个非空白字符(不能使用计数)
0           将光标移动到当前行第一个字符(不能使用计数)
G           移动到最后一行
``          回到上次起跳的位置(只回到上一次,无法多次回跳)
gg          移动到第一行
33G         移动到第33行
%           移动光标到当前括号匹配的另一个括号的位置
50%         移动光标到文档中间
90%         移动光标到文档90%位置
100%        移动光标到文档末尾
M/H         将光标移动到中间行
L           将光标移动到末尾行
CTRL + U    文本向上滚动半屏
CTRL + D    文本向下滚动半屏
CTRL + E    文本向上滚动一行 
CTRL + Y    文本向下滚动一行
CTRL + F    文本向前滚动一屏
CTRL + B    文本向后滚动一屏
CTRL + O    回到上次光标所在位置(每次退回一次)
CTRL + I    回到下次光标所在位置(每次前进一次)
```

* 退出

```
ZZ          退出并保存当前文件
:q!         放弃修改当前文件,强制退出
:e!         放弃修改当前文件,并重新打开
```

* 查找

```
fx          从当前位置,在当前行查找下一个字符x.光标停在搜索字符上
3fx         从当前位置,在当前行查找第三个字符x.光标停在搜索字符上
tx          从当前位置,在当前行查找下一个字符x.光标停在搜索字符前一个字符
3tx         从当前位置,在当前行查找第三个字符x.光标停在搜索字符前一个字符
Fx          从当前位置,在当前行查找下上个字符x.光标停在搜索字符上
3Fx         从当前位置,在当前行查找上三个字符x.光标停在搜索字符上
Tx          从当前位置,在当前行查找上一个字符x.光标停在搜索字符后一个字符
3Tx         从当前位置,在当前行查找上三个字符x.光标停在搜索字符后一个字符
/xxx        向下搜索字符串xxx
            使用n查找该字符串下次出现位置,3n查找从当前位置第三次出现该字符串的位置,
            使用N查找该字符串上次出现位置,3N查找从当前位置上三次出现该字符串的位置,
?xxx        向上搜索字符串xxx
            使用n查找该字符串上次出现位置,3n查找从当前位置上三次出现该字符串的位置
            使用N查找该字符串下次出现位置,3N查找从当前位置第三次出现该字符串的位置,
*           取当前光标所在单词进行正向搜索(会搜索到包含该字符串的位置)
#           取当前光标所在单词进行反向搜索(会搜索到包含该字符串的位置)
3*          取当前光标所在单词进行正向搜索,找寻第三次出现位置
3#          取当前光标所在单词进行反向搜索,找寻上三次出现位置
```

* 查找的匹配原则

```
/the\>      查找时匹配一个单词的结束处(只匹配the,不匹配there)
/\<the      查找时匹配一个单词的开始处(只匹配the,不匹配there)
/^the       查找时只找行首有该单词的位置
/the$       查找时只找行尾有该单词的位置
/c.m        查找所有cxm的单词(x为任意字符)
/com\.      查找时添加转义字符\
```

* 冒号操作

```
:set number         在每行前显示行号
:set nonumber       取消显示每行行号
:set ruler          在vim右下角显示当前光标位置
:set noruler        取消在vim右下角显示当前光标位置
:set ignorecase     搜索时查找内容忽略大小写
:set noignorecase   搜索时查找内容不忽略大小写
:set hlsearch       显示搜索的高亮显示
:set nohlsearch     取消显示搜索的高亮显示
:nohlsearch         去掉当前高亮显示
```

[参考](https://www.cnblogs.com/yangjig/p/6014198.html)

## iptables详解
[参考教程](https://blog.csdn.net/zzhongcy/article/details/42738285)

## PS查看进程统计信息
命令解析
```yml
a: 显示当前终端下的所有进程，包括其他用户的进程
u: 以用户为主的格式来显示程序状况
x: 显示当前用户所有终端下的进程信息
-e: 显示系统内的所有进程信息
-l: 使用长(long)格式显示进程信息
-f: 使用完整的(Full)格式显示进程信息
```
```bash
# USER 启动该进程的用户帐号名称 
# PID 程序ID
# %CPU 占CPU百分比
# %MEM 占内存百分比
# VSZ 占虚拟内存(swap)大小
# RSS 占物理内存大小
# TTY 进程在哪个终端运行
# STAT 进程状态:S(休眠) R(运行) Z(僵死) < (高级先级) N(低优先级)，S(父进程)，+(前台进程)
# START 启动的开始时间
# TIME 启动所用时间
# COMMAND 启动命令

# 查看当前运行进程
ps aux
# 可以包含更多的信息
ps -elf
# 只查看某个进程的信息
ps -elf | grep bash
# 动态进程信息
top
```
[参考](https://blog.csdn.net/ydydyq/article/details/52636136)

# 命令学习
到了`60`页
* 常用理解
    1. 自由,就是没有秘密.
    2. 路径名就是沿着目录树的分支到达想要的目录期间所经过的路线
    3. 命令+参数可以扩展命令本身
    ```
    短参数是一个中划线,一个字母:-l
    长参数是两个中划线,加单词:--word
    短参数可以中划线加多个字母:-la
    ```
    4. 文件详细信息  
    `-rwxrwxrwx`: 文件类型,所有者,用户组,其他用户  
    ```
    文件类型可以是文件(-),目录(d),软连接(l)  
    软连接解决了文件更换名称时,调用方可以始终使用同一个名称的链接>来调用该文件  
    ```
    `1`: 硬链接数目  
    `root`: 文件所有者用户名  
    `root`: 文件用户组名  
    `27235`: 文件字节大小  
    `6月 4 01:13`: 上次修改时间  
    `asf-logo-wide.svg`: 文件名  
* linux常用技巧
    1. 复制内容可以通过鼠标中键粘贴  
    2. 下键取消行内内容
* linux常用命令  
    `date`: 显示当前系统时间  
    `cal`: 显示当前月份中的哪一天  
    `df`: 查看磁盘剩余空间数量  
    `free`: 查看空闲内存数量  
    `cd`  
    ```
      1. cd , cd ~: 进入当前家目录  
      2. cd -: 进入先前工作目录  
    ```
    `file`: 确定文件类型  
    `less`: 浏览文本文件内容
    ```
      1. G: 移动到最后一行
      2. g: 移动到开头一行
      3. /字符串: 查找字符串并高亮
      4. ESC + u: 取消高亮
      5. q: 退出less
    ```
    `ls`
    ```
      1. -a --all: 显示所有信息
      2. -t: 按时间排序
      3. -r --reverse`: 倒排序
      4. -l: 显示详细信息
      5. -S: 按文件大小排序
    ```
    `mkdir`
    ```
      1. mkdir dir1: 创建一个文件夹
      2. mkdir dir1 dir2: 创建多个文件夹
    ```
    `cp`
    ```
      1. -a --archive: 复制文件和目录及其属性.副本属性与源相同
      2. -i --interactive: 重写了已存在的文件则提示
      3. -r --recursive: 递归复制目录及目录内容
      4. -u --update: 复制目录时仅复制不存在或更新的文件
      5. -v --verbose: 显示复制操作信息
    ```
    ```
      1. cp item1 dic1 dic2: 复制文件和目录到dic2目录
      2. cp dic1/* dic2: 复制dic1所有文件到dic2目录.dic2需存在
      3. cp -r dir1 dir2: dir2不存在,创建dir2,将dir1所有内容复制过去.dir2存在,将dir1及其内容复制过去
    ```
    `mv`
    ```
      1. -i --interactive: 重写了已存在的文件则提示
      2. -u --update: 移动目录时仅移动不存在或更新的文件
      3. -v --verbose: 显示移动操作信息
    ```
    ```
      1. mv file1 dic1 dic2: 移动文件和目录到dic2目录.dic2需存在
      2. mv dic1 dic2: 移动或重命名目录.
      3. mv file1 file2: 移动或重命名文件.item2存在则被重写
      4. cp -r dir1 dir2: dir2不存在,创建dir2,将dir1所有内容复制过去.dir2存在,将dir1及其内容复制过去
    ```
    `rm`
    ```
      1. -i --interactive: 删除之前请用户确认
      2. -r --recursive: 递归删除
      3. -f --force: 忽视不存在的文件,不显示提示信息
      4. -v --verbose: 显示移动操作信息
    ```
    ```
      1. rm file1 dic1 dic2: 删除文件和目录
    ```
    <div style="color: red;">建议删除之前用ls先列出所有删除的文件是什么,避免误删</div>  

    `ln`
    ```
      1. 用于创建硬链接与符号链接
      2. 硬链接不能关联与链接不在一个磁盘分区的文件,不能关联目录.硬链接相当于创建一个文件,修改硬链接,硬链接的文件与源文件一同修改.删除后硬链接创建的文件仍存在,直到源文件所有关联链接都删除.
      3. 符号链接类似快捷方式.删除源文件,符号连接会报红
    ```
    ```
      1. ln text.txt link: 创建硬链接
      1. ln -s text.txt link: 创建软链接
    ```
    `ll`
    ```
      1. 显示的total是占用容量,两个文件,一个文件占一个块,一个块4096,两个块就是8k
    ```
* linux命令缩写含义
    1. `pwd`: print working directory
* 常用路径
    1. `/bin`: 系统启动和运行所必须的二进制程序
    2. `/boot`: Linux 内核、初始 RAM 磁盘映像,启动加载程序
        * `/vmlinuz`: linux内核
    3. `/dev`: 所有设备列表
    4. `/etc`: 系统层面的配置文件
        * `/crontab`: 定义自动运行的任务
        * `/fstab`: 存储设备的列表及挂载点
    5. `/home`: 用户目录.普通用户只能在自己的目录写
    6. `/lib`: 核心系统程序使用的共享库文件
    7. `/media`: 可移动介质挂载点:U盘,鼠标等
    8. `/opt`: 安装外部软件
    9. `/proc`: linux内核维护,可查看内核如何维护计算机
    10. `/sbin`: 存放系统二进制文件,为root用户保留
    11. `/tmp`: 临时文件
    12. `/usr`: 存放普通用户的程序与文件
        * `/bin`: 大多数系统程序安装目录
        * `/lib`: 包含/usr/bin程序所有的共享库
        * `/local`: 安装非系统自带程序
        * `/bin`: 存放源码编译程序
        * `/src`: 存放用户源码
        * `/sbin`: 存放系统管理程序
        * `/share`: 存放/usr/bin程序的共享数据
        * `/doc`: 软件包文档
    13. `/var`: 动态文件
        * `/log`: 日志文件,活动记录
* 通配符使用
```
单个[*] 匹配0-多个字符  
? 匹配一个字符  
[abc] 匹配中括号中任意一个字符  
[!abc] 匹配不是中括号中的任意一个字符  
[[:class]] 匹配任意类型的一个字符,类似\s  
    [:alnum:] 匹配任意一个字母或数字  
    [:alpha:] 匹配任意一个字母  
    [:digit:] 匹配任意一个数字  
    [:lower:] 匹配任意一个小写字母  
    [:upper:] 匹配任意一个大写字母  
```

# linux添加自启动脚本
```bash
cd /etc/rc.d/init.d
vi os_init.sh
# 以下为具体的脚本内容
# chkonfig后面是启动级别和优先级，description后面是服务描述
# 服务必须在运行级2，3，4，5下被启动或关闭，启动的优先级是90，停止的优先级是10(数字越大,优先级越低)
```
```bash
#!/bin/bash
#chkconfig:2345 80 90
#decription:autostart

# start sshd
/usr/sbin/sshd -D &
```
```bash
# 为脚本添加执行权限
chmod +x  /etc/rc.d/init.d/os_init.sh
# 添加自启动
chkconfig --add os_init.sh
chkconfig os_init.sh on
```

[参考](https://www.cnblogs.com/longchengruoxi/p/11451062.html)

# telnet退出
```bash
# 可以使用ctrl c
# 也可以Ctrl ], 然后quit回车退出
```